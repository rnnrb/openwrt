do_sysinfo_generic() {
	[ -d /proc/device-tree ] || return
	mkdir -p /tmp/sysinfo

	[ -e /tmp/sysinfo/board_name ] ||
		strings /proc/device-tree/compatible | head -1 > /tmp/sysinfo/board_name

	[ ! -e /tmp/sysinfo/model ] && [ -e /proc/device-tree/model ] &&
		cat /proc/device-tree/model > /tmp/sysinfo/model
}

boot_hook_add preinit_main do_sysinfo_generic
